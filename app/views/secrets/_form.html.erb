<form class="secret-form" method="post" accept-charset="utf-8">
  <input type="hidden"
    name="authenticity_token" value=""
    id="form_authenticity_token">

    <label for="secret_title">Title:</label><input type="text" name="secret[title]"   value="" id="secret_title">

    <input type="hidden" name="secret[recipient_id]" value="<%= user.id %>" id="secret_recipient_id">

    <select name="secret[tag_ids][]" id="secret_tags_id_0">
      <option value="" ></option>
      <% tags.each do |tag| %>
        <option value="<%= tag.id %>"><%= tag.text %></option>
      <% end %>
    </select>

    <button type="button" class="another-tag">Add another Tag</button>

  <p><input type="submit" class="submit-secret" value="Post"></p>
</form>
<script>
  $(".another-tag").on("click", function(event) {
    event.preventDefault();

    var templateCode = $("#select_template").html()

    var templateFn = _.template(templateCode);

    // var renderedContent = function(){
    //    $("#ideas").html(templateFn({tags: @tags}));
    // }


  })
</script>

<script type="text/template" id="select_template">
    <select name="secret[tag_ids][]" id="secret_tags_id_0">
      <option value="" ></option>
      <%% _(tags).each(function(tag){ %>
        <option value="<%%= tag.id %>"><%%= tag.text %></option>
      <%% }) %>
    </select>
</script>